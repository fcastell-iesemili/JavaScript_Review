<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title></title>
		<style media="screen">
			.container{
				border:1px solid #ccc;
				height: 100px;
				background-color: #eee;
				margin-top:2%;
			}
		</style>
		<script type="text/javascript">
			/*
			funció que desa un item concret al storage
			*/
			function saveTitleInStorage(){
				// Exemple bàsic fent ús de localStorage.setItem(key, value);
				// Amb valors fitxes d'exemple: localStorage.setItem("titleGame", "Fornite");
				let txtTitle = document.getElementById('title-game').value;
				localStorage.setItem("titleGame", txtTitle);
				document.getElementById("container-game").innerHTML = localStorage.getItem("titleGame");
			}
			function saveUserInStorage(){
						if (typeof(Storage) == "undefined") {
							alert("localStorage no soportat");
						} else {
									// LocalStorage disponible
									// Guardar i extreure objectes json del Storage:
									let userObj = {"id":"43452212F", "name":"Alex", "mobile":"678565234"};
									localStorage.setItem("user", JSON.stringify(userObj));
						}
				}

			function getUserFromStorage(){
				// Recupera l'item del storage i el transforma a un objecte JSON.
				let userObjStorage = JSON.parse(localStorage.getItem("user"));
				console.log(userObjStorage);
				document.getElementById("container-user").innerHTML = userObjStorage.name + " " +
																															userObjStorage.mobile;

			}

		</script>
	</head>
	<body>
		<div class="container">
			<form>
				<input type="text" id="title-game" name="txt-title-game" value="" />
				<input type="button" name="Desa dades" value="Desa dades" onclick="saveTitleInStorage()"/>

				<div>
					<label>Dades al storage:</label>
					<p id="container-game"></p>
				</div>
			</form>
		</div>

		<div class="container">
				<button type="button" name="button" onclick="saveUserInStorage()">Desa dades usuari</button>
				<button type="button" name="button" onclick="getUserFromStorage()">Recupera dades usuari</button>
				<p id="container-user"></p>
		</div>

		<p><a href="storage_remove.html">Segona pàgina</a></p>

	</body>
</html>
